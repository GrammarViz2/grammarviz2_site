<!DOCTYPE html>
<html>
<head>
  <title> Time series recurrent pattern (motif) discovery using GrammarViz 2.0 GUI | GrammarViz 2.0 </title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">

  <!--  Load bootswatch-based Morea theme file. -->
  <link rel="stylesheet" href="/grammarviz2_site/css/themes/flatly/bootstrap.min.css">
  <link rel="stylesheet" href="/grammarviz2_site/css/style.css">
  <link rel="stylesheet" href="/grammarviz2_site/css/syntax.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Open+Sans:normal,italic,bold">
  <link rel="shortcut icon" href="/grammarviz2_site/favicon.ico" type="image/x-icon" />

  <!--  Load LaTeX processing stuff. -->
  <script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script>
  <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  <!--  Google check-up. -->
  <meta name="google-site-verification" content="IPRp9YV-GjZISFj5du9xbjjiTWKkc9Rpwb3_md6PIe8" />

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.6.2/html5shiv.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.2.0/respond.js"></script>
  <![endif]-->

  <!-- Load Bootstrap JavaScript components -->
  <!-- <script src="http://code.jquery.com/jquery.min.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>
<body>
<!-- Responsive navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <!--  Display three horizontal lines when navbar collapsed. -->
        <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/grammarviz2_site/index.html"> GrammarViz 2.0 </a>
    </div>
    <div class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li><a href="/grammarviz2_site/modules/">Modules</a></li>
        <!--  -->
        
          <li><a href="/grammarviz2_site/readings/">Readings</a></li>
        
        
          <li><a href="/grammarviz2_site/experiences/">Experiences</a></li>
        
        <!--  -->
      </ul>
    </div>
  </div>
</div>


<div class="container">
  <h3 id="experiential-learning-2">Experiential Learning 2</h3>

<h2 id="recurrent-patterns-discovery-with-grammarviz-20">Recurrent patterns discovery with GrammarViz 2.0</h2>

<h3 id="introduction">1. Introduction</h3>
<p>Here we discuss two use-cases which show GrammarViz GUI utility in variable length time series patterns finding and which support claims about our grammar-driven algorithm ability to discover such features.</p>

<h3 id="dataset-used">2. Dataset used</h3>
<p>Here we discuss the datasets used in the demo.</p>

<h4 id="winding-dataset">2.1. Winding dataset</h4>
<p>According to the <a href="ftp://ftp.esat.kuleuven.ac.be/pub/SISTA/data/process_industry/winding.txt">original dataset source</a> this <a href="https://jmotif.googlecode.com/svn/trunk/data/demo/winding.dat.gz">dataset</a> is a snapshot of data collected from industrial winding process whose column #2 corresponds to traction reel angular speed:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/winding_col2.png" width="800px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<p>unfortunately, we do not know any specific information about this dataset.</p>

<h4 id="qtdb-0606-ecg-dataset">2.2. QTDB 0606 ECG dataset</h4>
<p>This data set (database record) can be downloaded from <a href="http://physionet.org/physiobank/database/qtdb/">PHYSIONET FTP</a> and converted into the text format by executing this command</p>
<pre>
rdsamp -r sele0606 -f 120.000 -l 60.000 -p -c | sed -n '701,3000p' &gt;0606.csv
</pre>
<p>in the linux shell (assuming that you have rdsamp installed at your system).
We use the second column of this file. This is our dataset overview:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/qtdb0606.png" width="800px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<p>We know, that third heartbeat of this dataset contains the true anomaly as it was discussed in <a href="http://www.cs.gmu.edu/~jessica/publications/discord_icdm05.pdf">HOTSAX paper by Eamonn Keogh, Jessica Lin, and Ada Fu</a>. Note, that the authors were specifically interested in finding anomalies which are shorter than a regular heartbeat following a suggestion given by the domain expert: “<em>… We conferred with cardiologist, Dr. Helga Van Herle M.D., who informed us that heart irregularities can sometimes manifest themselves at scales significantly shorter than a single heartbeat….</em>”
Figure 13 of the paper further explains the nature of this true anomaly:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/demo-ecg0606_cluster.png" width="400px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<h3 id="time-series-discretization-and-grammar-induction">3. Time series discretization and grammar induction</h3>
<p>Our GUI tool implements both common strategies for time series discretization: global and sliding window-based. These are toggled by the checkbox “Slide the window”.</p>

<p>In addition, the process of time series discretization is configured by three parameters: sliding window size, PAA size, and the Alphabet size. These allow to adjust algorithm sensitivity and selectivity so it could capture a localized phenomena. <em>Note however, that grammar induction step effectively mitigates improper sliding window selection.</em> Usually it improves performance, but not necessary, if the selected window size is less than the observed phenomena.</p>

<p>Grammar induction requires no parameters.</p>

<h3 id="variable-length-recurrent-patterns-discovery">4. Variable length recurrent patterns discovery</h3>
<p>We use winding dataset in this example. Go “Browse”-&gt;select <code>winding.csv</code>-&gt;”Load data”. GUI shows the plot of winding data. Now adjust discretization parameters: “Window size” 100, “PAA Size” 4, and “Alphabet size” 3. Push “Process data”. At this point GUI displays grammar rules. Click on the “Mean length” column header, this sorts the table in ascending order, click again, this sorts the table in descending order. Click on the rule which has longest mean length, GUI shows that rule #29 has length ~353 and observed twice:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/demo-winding01.png" width="800px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<p>similarly, rules #21 and #33 are observed twice and have lengths of ~227 and ~187 respectively.</p>

<p>Now, click two times on the “Frequency in <code>R0</code>” column header and choose the most frequent rule which is #8:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/demo-winding02.png" width="800px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<p>the lengths of subsequences corresponding to this rule ranges from 102 to 121 and few of these subsequences overlap.</p>

<p><em>Note that these variable-length subsequences correspond to single rule of the same grammar inferred by Sequitur from a discretized time series.</em></p>

<p>Similarly, if we use <code>qtdb0606</code> dataset with SAX discretization parameters set to sliding window 100, PAA 8, and alphabet 4, the algorithm finds that the most frequently occurring rules are normal heartbeats:</p>

<div class="container">
  <div class="row">
    <div class="col-sm-8">
      <img style="margin-top: 5px; margin-bottom: 5px" src="../assets/demo-ecg0606_02.png" width="800px" class="img-responsive center-block" />
    </div>
  </div>
</div>

<h2 id="discussion">5. Discussion</h2>
<p>Note, that due to two factors: the numerosity reduction embedded in the data discretization process and the nature of GI algorithms, that create rules based on the long-range correlations, the shown above recurrent pattern discovery technique yields sets of frequent subsequences of a <em>variable length</em>.</p>

</div>



<div class="footer-background">
<footer>
  <div class="container page-footer">
    
      <p>Continuous Integration:&nbsp;&nbsp; <a href="https://travis-ci.org/GrammarViz2/grammarviz2_src"><img src="https://travis-ci.org/GrammarViz2/grammarviz2_src.svg?branch=master" /> (master)</a></p>
<p>Contact: <a href="http://www2.hawaii.edu/~senin">Pavel Senin,</a> <a href="mailto:#">seninp@gmail.com</a><br /></p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-54135903-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- Start of StatCounter Code for Default Guide -->
<script type="text/javascript">
var sc_project=10360660; 
var sc_invisible=1; 
var sc_security="391036a7"; 
var scJsHost = (("https:" == document.location.protocol) ?
"https://secure." : "http://www.");
document.write("<sc"+"ript type='text/javascript' src='" +
scJsHost+
"statcounter.com/counter/counter.js'></"+"script>");
</script>

<noscript><div class="statcounter"><a title="shopify site
analytics" href="http://statcounter.com/shopify/" target="_blank"><img class="statcounter" src="http://c.statcounter.com/10360660/0/391036a7/1/" alt="shopify site analytics" /></a></div></noscript>
<!-- End of StatCounter Code for Default Guide -->

    
    <p style="margin: 0">Powered by the <a href="http://morea-framework.github.io/">Morea Framework</a> (Theme: flatly)<br>
       Last update on: <span>2015-04-15 14:24:18 +0200</span></p>
    <p style="margin: 0">
      2 modules
      <!--  -->
      
        | 3 readings
      
      
        | 3 experiences
      
      <!--  -->
    </p>
  </div>
</footer>
</div>
</body>
</html>
